var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function l(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function c(){return t=" ",document.createTextNode(t);var t}function u(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function d(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function f(t,e,n){t.classList[n?"add":"remove"](e)}let h;function p(t){h=t}function y(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(t)}const x=[],b=[],g=[],m=[],$=Promise.resolve();let v=!1;function w(t){g.push(t)}let k=!1;const _=new Set;function E(){if(!k){k=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];p(e),z(e.$$)}for(p(null),x.length=0;b.length;)b.pop()();for(let t=0;t<g.length;t+=1){const e=g[t];_.has(e)||(_.add(e),e())}g.length=0}while(x.length);for(;m.length;)m.pop()();v=!1,k=!1,_.clear()}}function z(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const A=new Set;function C(t,e){-1===t.$$.dirty[0]&&(x.push(t),v||(v=!0,$.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function L(s,r,a,c,u,d,f=[-1]){const y=h;p(s);const x=r.props||{},b=s.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(y?y.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let g=!1;if(b.ctx=a?a(s,x,((t,e,...n)=>{const i=n.length?n[0]:e;return b.ctx&&u(b.ctx[t],b.ctx[t]=i)&&(!b.skip_bound&&b.bound[t]&&b.bound[t](i),g&&C(s,t)),e})):[],b.update(),g=!0,i(b.before_update),b.fragment=!!c&&c(b.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);b.fragment&&b.fragment.l(t),t.forEach(l)}else b.fragment&&b.fragment.c();r.intro&&((m=s.$$.fragment)&&m.i&&(A.delete(m),m.i($))),function(t,n,s){const{fragment:r,on_mount:l,on_destroy:a,after_update:c}=t.$$;r&&r.m(n,s),w((()=>{const n=l.map(e).filter(o);a?a.push(...n):i(n),t.$$.on_mount=[]})),c.forEach(w)}(s,r.target,r.anchor),E()}var m,$;p(y)}function P(e){let n,o,s,h,p,y,x,b,g,m,$,v,w,k,_,E,z;return{c(){n=a("main"),o=a("h1"),o.textContent="Breakout!",s=c(),h=a("button"),h.textContent="Show\n    Rules",p=c(),y=a("div"),x=a("h2"),x.textContent="How To Play:",b=c(),g=a("p"),g.textContent="Use your right and left keys to move the paddle to bounce the ball up and\n      break the blocks.",m=c(),$=a("p"),$.textContent="If you miss the ball, your score and the blocks will reset.",v=c(),w=a("button"),w.textContent="Close",k=c(),_=a("canvas"),d(o,"class","svelte-1a6aip0"),d(h,"id","rules-btn"),d(h,"class","btn rules-btn svelte-1a6aip0"),d(w,"id","close-btn"),d(w,"class","btn svelte-1a6aip0"),d(y,"id","rules"),d(y,"class","rules svelte-1a6aip0"),f(y,"show",e[0]),d(_,"id","canvas"),d(_,"width","800"),d(_,"height","600"),d(_,"class","svelte-1a6aip0"),d(n,"class","svelte-1a6aip0")},m(t,i){!function(t,e,n){t.insertBefore(e,n||null)}(t,n,i),r(n,o),r(n,s),r(n,h),r(n,p),r(n,y),r(y,x),r(y,b),r(y,g),r(y,m),r(y,$),r(y,v),r(y,w),r(n,k),r(n,_),e[3](_),E||(z=[u(h,"click",e[2]),u(w,"click",e[2])],E=!0)},p(t,[e]){1&e&&f(y,"show",t[0])},i:t,o:t,d(t){t&&l(n),e[3](null),E=!1,i(z)}}}function S(t,e,n){let i,o=!1,s=0;const r=[];return y((()=>{const t=i.getContext("2d"),e={x:i.width/2,y:i.height/2,size:10,speed:4,dx:4,dy:-4,visible:!0},n={x:i.width/2-40,y:i.height-20,w:80,h:10,speed:8,dx:0,visible:!0},o={w:70,h:20,padding:10,offsetX:45,offsetY:60,visible:!0};for(let t=0;t<9;t++){r[t]=[];for(let e=0;e<5;e++){const n=t*(o.w+o.padding)+o.offsetX,i=e*(o.h+o.padding)+o.offsetY;r[t][e]={x:n,y:i,...o}}}const l=()=>{s++,s%45==0&&(e.visible=!1,n.visible=!1,setTimeout((function(){a(),s=0,n.x=i.width/2-40,n.y=i.height-20,e.x=i.width/2,e.y=i.height/2,e.visible=!0,n.visible=!0}),500))},a=()=>{r.forEach((t=>{t.forEach((t=>t.visible=!0))}))},c=()=>{t.clearRect(0,0,i.width,i.height),t.beginPath(),t.arc(e.x,e.y,e.size,0,2*Math.PI),t.fillStyle=e.visible?"#0095dd":"transparent",t.fill(),t.closePath(),t.beginPath(),t.rect(n.x,n.y,n.w,n.h),t.fillStyle=n.visible?"#0095dd":"transparent",t.fill(),t.closePath(),t.font="20px Arial",t.fillText("Score: "+s,i.width-100,30),r.forEach((e=>{e.forEach((e=>{t.beginPath(),t.rect(e.x,e.y,e.w,e.h),t.fillStyle=e.visible?"#0095dd":"transparent",t.fill(),t.closePath()}))}))},u=()=>{n.x+=n.dx,n.x+n.w>i.width&&(n.x=i.width-n.w),n.x<0&&(n.x=0),e.x+=e.dx,e.y+=e.dy,(e.x+e.size>i.width||e.x-e.size<0)&&(e.dx*=-1),(e.y+e.size>i.height||e.y-e.size<0)&&(e.dy*=-1),e.x-e.size>n.x&&e.x+e.size<n.x+n.w&&e.y+e.size>n.y&&(e.dy=-e.speed),r.forEach((t=>{t.forEach((t=>{t.visible&&e.x-e.size>t.x&&e.x+e.size<t.x+t.w&&e.y+e.size>t.y&&e.y-e.size<t.y+t.h&&(e.dy*=-1,t.visible=!1,l())}))})),e.y+e.size>i.height&&(a(),s=0),c(),requestAnimationFrame(u)};u();document.addEventListener("keydown",(t=>{"Right"===t.key||"ArrowRight"===t.key?n.dx=n.speed:"Left"!==t.key&&"ArrowLeft"!==t.key||(n.dx=-n.speed)})),document.addEventListener("keyup",(t=>{"Right"!==t.key&&"ArrowRight"!==t.key&&"Left"!==t.key&&"ArrowLeft"!==t.key||(n.dx=0)}))})),[o,i,()=>{n(0,o=!o)},function(t){b[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),L(this,t,S,P,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
